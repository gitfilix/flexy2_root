(function(a){a.fn.pageSwipe=function(){viewportHeight=a(window).height();viewport=a('<div class="pageswipe-viewport" class="viewport"></div>');viewport.css({height:viewportHeight+"px",width:"768px",margin:"auto",overflow:"hidden",position:"relative"});this.wrap(viewport);var g=this.children(".page").length;this.css({width:768*g+"px",position:"absolute",height:viewportHeight+"px",overflow:"hidden"});this.children(".page").css({width:"768px",height:viewportHeight+"px","float":"left","overflow-y":"auto",
"-webkit-overflow-scrolling":"touch"});var d=this,j=0,f=null,h=null,c=null,b=1,i=!1;a(this).bind("webkitTransitionEnd",function(){a(this).css({"-webkit-transition":""})});a(document).bind("touchstart.pageswipe mousedown.pageswipe",function(a){e=a.originalEvent;c=null;j=d.position().left;i=!0;"mousedown"==e.type?(f=e.pageX,h=e.pageY):(f=e.touches[0].pageX,h=e.touches[0].pageY)});a(document).bind("touchmove.pageswipe mousemove.pageswipe",function(a){if(!i)return!0;e=a.originalEvent;horizontalTouchPosition=
"mousemove"==e.type?e.pageX:e.touches[0].pageX;horizontalTouchDelta=horizontalTouchPosition-f;verticalTouchPosition="mousemove"==e.type?e.pageY:e.touches[0].pageY;verticalTouchDelta=verticalTouchPosition-h;0<horizontalTouchDelta?horizontalDirection="right":1>horizontalTouchDelta&&(horizontalDirection="left");c||(10<Math.abs(horizontalTouchDelta)&&(c="h"),10<Math.abs(verticalTouchDelta)&&(c="v"));"h"==c&&(e.preventDefault(),("right"==horizontalDirection&&1<b||"left"==horizontalDirection&&b<g)&&d.css({"-webkit-transform":"translate3d("+
(j+horizontalTouchDelta)+"px,0,0)"}))});a(document).bind("touchend.pageswipe mouseup.pageswipe",function(a){i=!1;e=a.originalEvent;horizontalTouchEnd="mouseup"==e.type?e.pageX:e.changedTouches[0].pageX;horizontalTouchDelta=f-horizontalTouchEnd;"h"==c&&(0<horizontalTouchDelta&&b<g?(d.css({"-webkit-transition":"all .2s ease-in-out","-webkit-transform":"translate3d("+-768*b+"px,0,0)"}),b++):0>horizontalTouchDelta&&1<b&&(b--,d.css({"-webkit-transition":"all .2s ease-in-out","-webkit-transform":"translate3d("+
-768*(b-1)+"px,0,0)"})))});return this}})(jQuery);
